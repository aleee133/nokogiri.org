<!DOCTYPE html>
<html>
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Top Level Namespace
  
    — Documentation by YARD 0.9.26
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css">

  <link rel="stylesheet" href="css/common.css" type="text/css">

<script type="text/javascript">
  pathId = "";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


      <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-1260604-8"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-1260604-8');
    </script>
</head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index</a> »
    
    
    <span class="title">Top Level Namespace</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link" href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content">
<h1>Top Level Namespace
  
  
  
</h1>
<div class="box_info">
  

  
  
  
  
  

  

  
</div>

<h2>Defined Under Namespace</h2>
<p class="children">
  
    
      <strong class="modules">Modules:</strong> <span class="object_link"><a href="Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span>, <span class="object_link"><a href="XSD.html" title="XSD (module)">XSD</a></span>
    
  
    
  
</p>

  
    <h2>
      Constant Summary
      <small><a href="#" class="constants_summary_toggle">collapse</a></small>
    </h2>

    <dl class="constants">
      
        <dt id="PACKAGE_ROOT_DIR-constant" class="">PACKAGE_ROOT_DIR =
          <div class="docstring">
  <div class="discussion">
    
<p>helpful constants</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class="const">File</span><span class="period">.</span><span class="id identifier rubyid_expand_path">expand_path</span><span class="lparen">(</span><span class="const">File</span><span class="period">.</span><span class="id identifier rubyid_join">join</span><span class="lparen">(</span><span class="const">File</span><span class="period">.</span><span class="id identifier rubyid_dirname">dirname</span><span class="lparen">(</span><span class="kw">__FILE__</span><span class="rparen">)</span><span class="comma">,</span> <span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">..</span><span class="tstring_end">'</span></span><span class="comma">,</span> <span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">..</span><span class="tstring_end">'</span></span><span class="rparen">)</span><span class="rparen">)</span></pre></dd>
      
        <dt id="REQUIRED_LIBXML_VERSION-constant" class="">REQUIRED_LIBXML_VERSION =
          
        </dt>
        <dd><pre class="code"><span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">2.6.21</span><span class="tstring_end">"</span></span></pre></dd>
      
        <dt id="RECOMMENDED_LIBXML_VERSION-constant" class="">RECOMMENDED_LIBXML_VERSION =
          
        </dt>
        <dd><pre class="code"><span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">2.9.3</span><span class="tstring_end">"</span></span></pre></dd>
      
        <dt id="REQUIRED_MINI_PORTILE_VERSION-constant" class="">REQUIRED_MINI_PORTILE_VERSION =
          <div class="docstring">
  <div class="discussion">
    
<p>The gem version constraint in the Rakefile is not respected at install time. Keep this version in sync with the one in the Rakefile !</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">~&gt; 2.5.0</span><span class="tstring_end">"</span></span></pre></dd>
      
        <dt id="REQUIRED_PKG_CONFIG_VERSION-constant" class="">REQUIRED_PKG_CONFIG_VERSION =
          
        </dt>
        <dd><pre class="code"><span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">~&gt; 1.1</span><span class="tstring_end">"</span></span></pre></dd>
      
        <dt id="OTHER_LIBRARY_VERSIONS-constant" class="">OTHER_LIBRARY_VERSIONS =
          <div class="docstring">
  <div class="discussion">
    
<p>Keep track of what versions of what libraries we build against</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class="lbrace">{</span><span class="rbrace">}</span></pre></dd>
      
        <dt id="NOKOGIRI_HELP_MESSAGE-constant" class="">NOKOGIRI_HELP_MESSAGE =
          
        </dt>
        <dd><pre class="code"><span class="heredoc_beg">&lt;&lt;~HELP</span>
<span class="tstring_content">  USAGE: ruby </span><span class="embexpr_beg">#{</span><span class="gvar">$0</span><span class="embexpr_end">}</span><span class="tstring_content"> [options]
</span><span class="tstring_content">
</span><span class="tstring_content">    Flags that are always valid:
</span><span class="tstring_content">
</span><span class="tstring_content">      --use-system-libraries
</span><span class="tstring_content">          Use system libraries instead of building and using the packaged libraries
</span><span class="tstring_content">
</span><span class="tstring_content">      --disable-clean
</span><span class="tstring_content">          Do not clean out intermediate files after successful build
</span><span class="tstring_content">
</span><span class="tstring_content">      --prevent-strip
</span><span class="tstring_content">          Take steps to prevent stripping the symbol table and debugging info from the shared
</span><span class="tstring_content">          library, potentially overriding RbConfig's CFLAGS/LDFLAGS/DLDFLAGS.
</span><span class="tstring_content">
</span><span class="tstring_content">
</span><span class="tstring_content">    Flags only used when using system libraries:
</span><span class="tstring_content">
</span><span class="tstring_content">      --with-opt-dir=DIRECTORY
</span><span class="tstring_content">          Look for headers and libraries in DIRECTORY
</span><span class="tstring_content">
</span><span class="tstring_content">      --with-zlib-dir=DIR
</span><span class="tstring_content">          Look for zlib header and library in DIRECTORY
</span><span class="tstring_content">
</span><span class="tstring_content">      --with-iconv-dir=DIRECTORY
</span><span class="tstring_content">          Look for iconv header and library in DIRECTORY
</span><span class="tstring_content">
</span><span class="tstring_content">      --with-xml2-dir=DIRECTORY
</span><span class="tstring_content">          Look for xml2 headers and library in DIRECTORY
</span><span class="tstring_content">
</span><span class="tstring_content">      --with-xml2-lib=DIRECTORY
</span><span class="tstring_content">          Look for xml2 library in DIRECTORY
</span><span class="tstring_content">
</span><span class="tstring_content">      --with-xslt-include=DIRECTORY
</span><span class="tstring_content">          Look for xslt headers in DIRECTORY
</span><span class="tstring_content">
</span><span class="tstring_content">      --with-xslt-dir=DIRECTORY
</span><span class="tstring_content">          Look for xslt headers and library in DIRECTORY
</span><span class="tstring_content">
</span><span class="tstring_content">      --with-xslt-lib=DIRECTORY
</span><span class="tstring_content">          Look for xslt library in DIRECTORY
</span><span class="tstring_content">
</span><span class="tstring_content">      --with-xslt-include=DIRECTORY
</span><span class="tstring_content">          Look for xslt headers in DIRECTORY
</span><span class="tstring_content">
</span><span class="tstring_content">      --with-exslt-dir=DIRECTORY
</span><span class="tstring_content">          Look for exslt headers and library in DIRECTORY
</span><span class="tstring_content">
</span><span class="tstring_content">      --with-exslt-lib=DIRECTORY
</span><span class="tstring_content">          Look for exslt library in DIRECTORY
</span><span class="tstring_content">
</span><span class="tstring_content">      --with-exslt-include=DIRECTORY
</span><span class="tstring_content">          Look for exslt headers in DIRECTORY
</span><span class="tstring_content">
</span><span class="tstring_content">
</span><span class="tstring_content">    Flags only used when building and using the packaged libraries:
</span><span class="tstring_content">
</span><span class="tstring_content">      --disable-static
</span><span class="tstring_content">          Do not statically link packaged libraries, instead use shared libraries
</span><span class="tstring_content">
</span><span class="tstring_content">      --enable-cross-build
</span><span class="tstring_content">          Enable cross-build mode. (You probably do not want to set this manually.)
</span><span class="tstring_content">
</span><span class="tstring_content">
</span><span class="tstring_content">    Environment variables used:
</span><span class="tstring_content">
</span><span class="tstring_content">      NOKOGIRI_USE_SYSTEM_LIBRARIES
</span><span class="tstring_content">          When set, even if nil or blank, use system libraries instead of building and using the
</span><span class="tstring_content">          packaged libraries. Equivalent to `--use-system-libraries`.
</span><span class="tstring_content">
</span><span class="tstring_content">      CC
</span><span class="tstring_content">          Use this path to invoke the compiler instead of `RbConfig::CONFIG['CC']`
</span><span class="tstring_content">
</span><span class="tstring_content">      CPPFLAGS
</span><span class="tstring_content">          If this string is accepted by the C preprocessor, add it to the flags passed to the C preprocessor
</span><span class="tstring_content">
</span><span class="tstring_content">      CFLAGS
</span><span class="tstring_content">          If this string is accepted by the compiler, add it to the flags passed to the compiler
</span><span class="tstring_content">
</span><span class="tstring_content">      LDFLAGS
</span><span class="tstring_content">          If this string is accepted by the linker, add it to the flags passed to the linker
</span><span class="tstring_content">
</span><span class="tstring_content">      LIBS
</span><span class="tstring_content">          Add this string to the flags passed to the linker
</span><span class="heredoc_end">HELP</span></pre></dd>
      
        <dt id="LOCAL_PACKAGE_RESPONSE-constant" class="">LOCAL_PACKAGE_RESPONSE =
          
        </dt>
        <dd><pre class="code"><span class="const">Object</span><span class="period">.</span><span class="id identifier rubyid_new">new</span></pre></dd>
      
    </dl>
  







  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="top-level-namespace.html#abort_could_not_find_library-instance_method" title="#abort_could_not_find_library (instance method)">#<strong>abort_could_not_find_library</strong>(lib)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline"></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="top-level-namespace.html#aix%3F-instance_method" title="#aix? (instance method)">#<strong>aix?</strong>  ⇒ Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline"></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="top-level-namespace.html#chdir_for_build-instance_method" title="#chdir_for_build (instance method)">#<strong>chdir_for_build</strong>  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline"></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="top-level-namespace.html#concat_flags-instance_method" title="#concat_flags (instance method)">#<strong>concat_flags</strong>(*args)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline"></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="top-level-namespace.html#copy_packaged_libraries_headers-instance_method" title="#copy_packaged_libraries_headers (instance method)">#<strong>copy_packaged_libraries_headers</strong>(to_path:, from_recipes:)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline"></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="top-level-namespace.html#darwin%3F-instance_method" title="#darwin? (instance method)">#<strong>darwin?</strong>  ⇒ Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline"></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="top-level-namespace.html#do_clean-instance_method" title="#do_clean (instance method)">#<strong>do_clean</strong>  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline"></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="top-level-namespace.html#do_help-instance_method" title="#do_help (instance method)">#<strong>do_help</strong>  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline"></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="top-level-namespace.html#ensure_func-instance_method" title="#ensure_func (instance method)">#<strong>ensure_func</strong>(func, headers = nil)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline"></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="top-level-namespace.html#ensure_package_configuration-instance_method" title="#ensure_package_configuration (instance method)">#<strong>ensure_package_configuration</strong>(opt: nil, pc: nil, lib:, func:, headers:)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline"></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="top-level-namespace.html#have_libxml_headers%3F-instance_method" title="#have_libxml_headers? (instance method)">#<strong>have_libxml_headers?</strong>(version = nil)  ⇒ Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline"></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="top-level-namespace.html#have_package_configuration-instance_method" title="#have_package_configuration (instance method)">#<strong>have_package_configuration</strong>(opt: nil, pc: nil, lib:, func:, headers:)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>set up mkmf to link against the library if we can find it.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="top-level-namespace.html#iconv_configure_flags-instance_method" title="#iconv_configure_flags (instance method)">#<strong>iconv_configure_flags</strong>  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline"></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="top-level-namespace.html#libflag_to_filename-instance_method" title="#libflag_to_filename (instance method)">#<strong>libflag_to_filename</strong>(ldflag)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline"></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="top-level-namespace.html#local_have_library-instance_method" title="#local_have_library (instance method)">#<strong>local_have_library</strong>(lib, func = nil, headers = nil)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline"></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="top-level-namespace.html#nix%3F-instance_method" title="#nix? (instance method)">#<strong>nix?</strong>  ⇒ Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline"></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="top-level-namespace.html#Nokogiri-instance_method" title="#Nokogiri (instance method)">#<strong>Nokogiri</strong>(*args, &amp;block)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Parse a document contained in <code>args</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="top-level-namespace.html#openbsd%3F-instance_method" title="#openbsd? (instance method)">#<strong>openbsd?</strong>  ⇒ Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline"></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="top-level-namespace.html#preserving_globals-instance_method" title="#preserving_globals (instance method)">#<strong>preserving_globals</strong>  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline"></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="top-level-namespace.html#process_recipe-instance_method" title="#process_recipe (instance method)">#<strong>process_recipe</strong>(name, version, static_p, cross_p)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline"></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="top-level-namespace.html#sh_export_path-instance_method" title="#sh_export_path (instance method)">#<strong>sh_export_path</strong>(path)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline"></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="top-level-namespace.html#solaris%3F-instance_method" title="#solaris? (instance method)">#<strong>solaris?</strong>  ⇒ Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline"></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="top-level-namespace.html#try_link_iconv-instance_method" title="#try_link_iconv (instance method)">#<strong>try_link_iconv</strong>(using = nil)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline"></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="top-level-namespace.html#try_package_configuration-instance_method" title="#try_package_configuration (instance method)">#<strong>try_package_configuration</strong>(pc)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>wrapper around MakeMakefil#pkg_config and the PKGConfig gem.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="top-level-namespace.html#using_system_libraries%3F-instance_method" title="#using_system_libraries? (instance method)">#<strong>using_system_libraries?</strong>  ⇒ Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline"></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="top-level-namespace.html#windows%3F-instance_method" title="#windows? (instance method)">#<strong>windows?</strong>  ⇒ Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>utility functions.</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="abort_could_not_find_library-instance_method">
  
    #<strong>abort_could_not_find_library</strong>(lib)  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


219
220
221</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/extconf.rb', line 219</span>

<span class="kw">def</span> <span class="id identifier rubyid_abort_could_not_find_library">abort_could_not_find_library</span><span class="lparen">(</span><span class="id identifier rubyid_lib">lib</span><span class="rparen">)</span>
  <span class="id identifier rubyid_abort">abort</span> <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">-----\n</span><span class="embexpr_beg">#{</span><span class="id identifier rubyid_caller">caller</span><span class="lbracket">[</span><span class="int">0</span><span class="rbracket">]</span><span class="embexpr_end">}</span><span class="tstring_content">\n</span><span class="embexpr_beg">#{</span><span class="id identifier rubyid_lib">lib</span><span class="embexpr_end">}</span><span class="tstring_content"> is missing. Please locate mkmf.log to investigate how it is failing.\n-----</span><span class="tstring_end">"</span></span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="aix?-instance_method">
  
    #<strong>aix?</strong>  ⇒ <tt>Boolean</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class="type">(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


130
131
132</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/extconf.rb', line 130</span>

<span class="kw">def</span> <span class="id identifier rubyid_aix?">aix?</span>
  <span class="const">RbConfig</span><span class="op">::</span><span class="const">CONFIG</span><span class="lbracket">[</span><span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">target_os</span><span class="tstring_end">"</span></span><span class="rbracket">]</span> <span class="op">=~</span> <span class="tstring"><span class="regexp_beg">/</span><span class="tstring_content">aix</span><span class="regexp_end">/</span></span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="chdir_for_build-instance_method">
  
    #<strong>chdir_for_build</strong>  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


223
224
225
226
227
228
229
230
231</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/extconf.rb', line 223</span>

<span class="kw">def</span> <span class="id identifier rubyid_chdir_for_build">chdir_for_build</span>
  <span class="comment"># When using rake-compiler-dock on Windows, the underlying Virtualbox shared
</span>  <span class="comment"># folders don't support symlinks, but libiconv expects it for a build on
</span>  <span class="comment"># Linux. We work around this limitation by using the temp dir for cooking.
</span>  <span class="id identifier rubyid_build_dir">build_dir</span> <span class="op">=</span> <span class="const">ENV</span><span class="lbracket">[</span><span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">RCD_HOST_RUBY_PLATFORM</span><span class="tstring_end">'</span></span><span class="rbracket">]</span><span class="period">.</span><span class="id identifier rubyid_to_s">to_s</span> <span class="op">=~</span> <span class="tstring"><span class="regexp_beg">/</span><span class="tstring_content">mingw|mswin|cygwin</span><span class="regexp_end">/</span></span> <span class="op">?</span> <span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">/tmp</span><span class="tstring_end">'</span></span> <span class="op">:</span> <span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">.</span><span class="tstring_end">'</span></span>
  <span class="const">Dir</span><span class="period">.</span><span class="id identifier rubyid_chdir">chdir</span><span class="lparen">(</span><span class="id identifier rubyid_build_dir">build_dir</span><span class="rparen">)</span> <span class="kw">do</span>
    <span class="kw">yield</span>
  <span class="kw">end</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="concat_flags-instance_method">
  
    #<strong>concat_flags</strong>(*args)  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


138
139
140</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/extconf.rb', line 138</span>

<span class="kw">def</span> <span class="id identifier rubyid_concat_flags">concat_flags</span> <span class="op">*</span><span class="id identifier rubyid_args">args</span>
  <span class="id identifier rubyid_args">args</span><span class="period">.</span><span class="id identifier rubyid_compact">compact</span><span class="period">.</span><span class="id identifier rubyid_join">join</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content"> </span><span class="tstring_end">"</span></span><span class="rparen">)</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="copy_packaged_libraries_headers-instance_method">
  
    #<strong>copy_packaged_libraries_headers</strong>(to_path:, from_recipes:)  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


460
461
462
463
464
465
466</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/extconf.rb', line 460</span>

<span class="kw">def</span> <span class="id identifier rubyid_copy_packaged_libraries_headers">copy_packaged_libraries_headers</span><span class="lparen">(</span><span class="label">to_path:</span><span class="comma">,</span> <span class="label">from_recipes:</span><span class="rparen">)</span>
  <span class="const">FileUtils</span><span class="period">.</span><span class="id identifier rubyid_rm_rf">rm_rf</span><span class="lparen">(</span><span class="id identifier rubyid_to_path">to_path</span><span class="comma">,</span> <span class="label">secure:</span> <span class="kw">true</span><span class="rparen">)</span>
  <span class="const">FileUtils</span><span class="period">.</span><span class="id identifier rubyid_mkdir">mkdir</span><span class="lparen">(</span><span class="id identifier rubyid_to_path">to_path</span><span class="rparen">)</span>
  <span class="id identifier rubyid_from_recipes">from_recipes</span><span class="period">.</span><span class="id identifier rubyid_each">each</span> <span class="kw">do</span> <span class="op">|</span><span class="id identifier rubyid_recipe">recipe</span><span class="op">|</span>
    <span class="const">FileUtils</span><span class="period">.</span><span class="id identifier rubyid_cp_r">cp_r</span><span class="lparen">(</span><span class="const">Dir</span><span class="lbracket">[</span><span class="const">File</span><span class="period">.</span><span class="id identifier rubyid_join">join</span><span class="lparen">(</span><span class="id identifier rubyid_recipe">recipe</span><span class="period">.</span><span class="id identifier rubyid_path">path</span><span class="comma">,</span> <span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">include/*</span><span class="tstring_end">'</span></span><span class="rparen">)</span><span class="rbracket">]</span><span class="comma">,</span> <span class="id identifier rubyid_to_path">to_path</span><span class="rparen">)</span>
  <span class="kw">end</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="darwin?-instance_method">
  
    #<strong>darwin?</strong>  ⇒ <tt>Boolean</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class="type">(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


122
123
124</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/extconf.rb', line 122</span>

<span class="kw">def</span> <span class="id identifier rubyid_darwin?">darwin?</span>
  <span class="const">RbConfig</span><span class="op">::</span><span class="const">CONFIG</span><span class="lbracket">[</span><span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">target_os</span><span class="tstring_end">'</span></span><span class="rbracket">]</span> <span class="op">=~</span> <span class="tstring"><span class="regexp_beg">/</span><span class="tstring_content">darwin</span><span class="regexp_end">/</span></span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="do_clean-instance_method">
  
    #<strong>do_clean</strong>  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/extconf.rb', line 473</span>

<span class="kw">def</span> <span class="id identifier rubyid_do_clean">do_clean</span>
  <span class="id identifier rubyid_root"><span class="object_link"><a href="" title="Top Level Namespace (root)">root</a></span></span> <span class="op">=</span> <span class="const">Pathname</span><span class="lparen">(</span><span class="const"><span class="object_link"><a href="#PACKAGE_ROOT_DIR-constant" title="PACKAGE_ROOT_DIR (constant)">PACKAGE_ROOT_DIR</a></span></span><span class="rparen">)</span>
  <span class="id identifier rubyid_pwd">pwd</span>  <span class="op">=</span> <span class="const">Pathname</span><span class="lparen">(</span><span class="const">Dir</span><span class="period">.</span><span class="id identifier rubyid_pwd">pwd</span><span class="rparen">)</span>

  <span class="comment"># Skip if this is a development work tree
</span>  <span class="kw">unless</span> <span class="lparen">(</span><span class="id identifier rubyid_root"><span class="object_link"><a href="" title="Top Level Namespace (root)">root</a></span></span> <span class="op">+</span> <span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">.git</span><span class="tstring_end">'</span></span><span class="rparen">)</span><span class="period">.</span><span class="id identifier rubyid_exist?">exist?</span>
    <span class="id identifier rubyid_message">message</span> <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">Cleaning files only used during build.\n</span><span class="tstring_end">"</span></span>

    <span class="comment"># (root + 'tmp') cannot be removed at this stage because
</span>    <span class="comment"># nokogiri.so is yet to be copied to lib.
</span>
    <span class="comment"># clean the ports build directory
</span>    <span class="const">Pathname</span><span class="period">.</span><span class="id identifier rubyid_glob">glob</span><span class="lparen">(</span><span class="id identifier rubyid_pwd">pwd</span><span class="period">.</span><span class="id identifier rubyid_join">join</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">tmp</span><span class="tstring_end">'</span></span><span class="comma">,</span> <span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">*</span><span class="tstring_end">'</span></span><span class="comma">,</span> <span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">ports</span><span class="tstring_end">'</span></span><span class="rparen">)</span><span class="rparen">)</span> <span class="kw">do</span> <span class="op">|</span><span class="id identifier rubyid_dir">dir</span><span class="op">|</span>
      <span class="const">FileUtils</span><span class="period">.</span><span class="id identifier rubyid_rm_rf">rm_rf</span><span class="lparen">(</span><span class="id identifier rubyid_dir">dir</span><span class="comma">,</span> <span class="label">verbose:</span> <span class="kw">true</span><span class="rparen">)</span>
    <span class="kw">end</span>

    <span class="kw">if</span> <span class="id identifier rubyid_enable_config">enable_config</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">static</span><span class="tstring_end">'</span></span><span class="rparen">)</span>
      <span class="comment"># ports installation can be safely removed if statically linked.
</span>      <span class="const">FileUtils</span><span class="period">.</span><span class="id identifier rubyid_rm_rf">rm_rf</span><span class="lparen">(</span><span class="id identifier rubyid_root"><span class="object_link"><a href="" title="Top Level Namespace (root)">root</a></span></span> <span class="op">+</span> <span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">ports</span><span class="tstring_end">'</span></span><span class="comma">,</span> <span class="label">verbose:</span> <span class="kw">true</span><span class="rparen">)</span>
    <span class="kw">else</span>
      <span class="const">FileUtils</span><span class="period">.</span><span class="id identifier rubyid_rm_rf">rm_rf</span><span class="lparen">(</span><span class="id identifier rubyid_root"><span class="object_link"><a href="" title="Top Level Namespace (root)">root</a></span></span> <span class="op">+</span> <span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">ports</span><span class="tstring_end">'</span></span> <span class="op">+</span> <span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">archives</span><span class="tstring_end">'</span></span><span class="comma">,</span> <span class="label">verbose:</span> <span class="kw">true</span><span class="rparen">)</span>
    <span class="kw">end</span>
  <span class="kw">end</span>

  <span class="id identifier rubyid_exit!">exit!</span> <span class="int">0</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="do_help-instance_method">
  
    #<strong>do_help</strong>  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


468
469
470
471</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/extconf.rb', line 468</span>

<span class="kw">def</span> <span class="id identifier rubyid_do_help">do_help</span>
  <span class="id identifier rubyid_print">print</span> <span class="const"><span class="object_link"><a href="#NOKOGIRI_HELP_MESSAGE-constant" title="NOKOGIRI_HELP_MESSAGE (constant)">NOKOGIRI_HELP_MESSAGE</a></span></span>
  <span class="id identifier rubyid_exit!">exit!</span> <span class="int">0</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="ensure_func-instance_method">
  
    #<strong>ensure_func</strong>(func, headers = nil)  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


208
209
210</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/extconf.rb', line 208</span>

<span class="kw">def</span> <span class="id identifier rubyid_ensure_func">ensure_func</span><span class="lparen">(</span><span class="id identifier rubyid_func">func</span><span class="comma">,</span> <span class="id identifier rubyid_headers">headers</span><span class="op">=</span><span class="kw">nil</span><span class="rparen">)</span>
  <span class="id identifier rubyid_have_func">have_func</span><span class="lparen">(</span><span class="id identifier rubyid_func">func</span><span class="comma">,</span> <span class="id identifier rubyid_headers">headers</span><span class="rparen">)</span> <span class="kw">or</span> <span class="id identifier rubyid_abort_could_not_find_library"><span class="object_link"><a href="#abort_could_not_find_library-instance_method" title="#abort_could_not_find_library (method)">abort_could_not_find_library</a></span></span><span class="lparen">(</span><span class="id identifier rubyid_lib">lib</span><span class="rparen">)</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="ensure_package_configuration-instance_method">
  
    #<strong>ensure_package_configuration</strong>(opt: nil, pc: nil, lib:, func:, headers:)  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


203
204
205
206</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/extconf.rb', line 203</span>

<span class="kw">def</span> <span class="id identifier rubyid_ensure_package_configuration">ensure_package_configuration</span><span class="lparen">(</span><span class="label">opt:</span> <span class="kw">nil</span><span class="comma">,</span> <span class="label">pc:</span> <span class="kw">nil</span><span class="comma">,</span> <span class="label">lib:</span><span class="comma">,</span> <span class="label">func:</span><span class="comma">,</span> <span class="label">headers:</span><span class="rparen">)</span>
  <span class="id identifier rubyid_have_package_configuration"><span class="object_link"><a href="#have_package_configuration-instance_method" title="#have_package_configuration (method)">have_package_configuration</a></span></span><span class="lparen">(</span><span class="label">opt:</span> <span class="id identifier rubyid_opt">opt</span><span class="comma">,</span> <span class="label">pc:</span> <span class="id identifier rubyid_pc">pc</span><span class="comma">,</span> <span class="label">lib:</span> <span class="id identifier rubyid_lib">lib</span><span class="comma">,</span> <span class="label">func:</span> <span class="id identifier rubyid_func">func</span><span class="comma">,</span> <span class="label">headers:</span> <span class="id identifier rubyid_headers">headers</span><span class="rparen">)</span> <span class="kw">or</span>
    <span class="id identifier rubyid_abort_could_not_find_library"><span class="object_link"><a href="#abort_could_not_find_library-instance_method" title="#abort_could_not_find_library (method)">abort_could_not_find_library</a></span></span><span class="lparen">(</span><span class="id identifier rubyid_lib">lib</span><span class="rparen">)</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="have_libxml_headers?-instance_method">
  
    #<strong>have_libxml_headers?</strong>(version = nil)  ⇒ <tt>Boolean</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class="type">(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/extconf.rb', line 267</span>

<span class="kw">def</span> <span class="id identifier rubyid_have_libxml_headers?">have_libxml_headers?</span><span class="lparen">(</span><span class="id identifier rubyid_version">version</span><span class="op">=</span><span class="kw">nil</span><span class="rparen">)</span>
  <span class="id identifier rubyid_source">source</span> <span class="op">=</span> <span class="kw">if</span> <span class="id identifier rubyid_version">version</span><span class="period">.</span><span class="id identifier rubyid_nil?">nil?</span>
             <span class="heredoc_beg">&lt;&lt;~SRC</span>
<span class="tstring_content">               #include &lt;libxml/xmlversion.h&gt;
</span><span class="heredoc_end">             SRC
</span>           <span class="kw">else</span>
             <span class="id identifier rubyid_version_int">version_int</span> <span class="op">=</span> <span class="id identifier rubyid_sprintf">sprintf</span> <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">%d%2.2d%2.2d</span><span class="tstring_end">"</span></span><span class="comma">,</span> <span class="op">*</span><span class="lparen">(</span><span class="id identifier rubyid_version">version</span><span class="period">.</span><span class="id identifier rubyid_split">split</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">.</span><span class="tstring_end">"</span></span><span class="rparen">)</span><span class="rparen">)</span>
             <span class="heredoc_beg">&lt;&lt;~SRC</span>
<span class="tstring_content">               #include &lt;libxml/xmlversion.h&gt;
</span><span class="tstring_content">               #if LIBXML_VERSION &lt; </span><span class="embexpr_beg">#{</span><span class="id identifier rubyid_version_int">version_int</span><span class="embexpr_end">}</span><span class="tstring_content">
</span><span class="tstring_content">               #  error libxml2 is older than </span><span class="embexpr_beg">#{</span><span class="id identifier rubyid_version">version</span><span class="embexpr_end">}</span><span class="tstring_content">
</span><span class="tstring_content">               #endif
</span><span class="heredoc_end">             SRC
</span>           <span class="kw">end</span>

  <span class="id identifier rubyid_try_cpp">try_cpp</span> <span class="id identifier rubyid_source">source</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="have_package_configuration-instance_method">
  
    #<strong>have_package_configuration</strong>(opt: nil, pc: nil, lib:, func:, headers:)  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>set up mkmf to link against the library if we can find it</p>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/extconf.rb', line 186</span>

<span class="kw">def</span> <span class="id identifier rubyid_have_package_configuration">have_package_configuration</span><span class="lparen">(</span><span class="label">opt:</span> <span class="kw">nil</span><span class="comma">,</span> <span class="label">pc:</span> <span class="kw">nil</span><span class="comma">,</span> <span class="label">lib:</span><span class="comma">,</span> <span class="label">func:</span><span class="comma">,</span> <span class="label">headers:</span><span class="rparen">)</span>
  <span class="kw">if</span> <span class="id identifier rubyid_opt">opt</span>
    <span class="id identifier rubyid_dir_config">dir_config</span><span class="lparen">(</span><span class="id identifier rubyid_opt">opt</span><span class="rparen">)</span>
    <span class="id identifier rubyid_dir_config">dir_config</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">opt</span><span class="tstring_end">"</span></span><span class="rparen">)</span>
  <span class="kw">end</span>

  <span class="comment"># see if we have enough path info to do this without trying any harder
</span>  <span class="kw">if</span> <span class="op">!</span><span class="const">ENV</span><span class="period">.</span><span class="id identifier rubyid_key?">key?</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">NOKOGIRI_TEST_PKG_CONFIG</span><span class="tstring_end">"</span></span><span class="rparen">)</span>
    <span class="kw">return</span> <span class="kw">true</span> <span class="kw">if</span> <span class="id identifier rubyid_local_have_library"><span class="object_link"><a href="#local_have_library-instance_method" title="#local_have_library (method)">local_have_library</a></span></span><span class="lparen">(</span><span class="id identifier rubyid_lib">lib</span><span class="comma">,</span> <span class="id identifier rubyid_func">func</span><span class="comma">,</span> <span class="id identifier rubyid_headers">headers</span><span class="rparen">)</span>
  <span class="kw">end</span>

  <span class="id identifier rubyid_try_package_configuration"><span class="object_link"><a href="#try_package_configuration-instance_method" title="#try_package_configuration (method)">try_package_configuration</a></span></span><span class="lparen">(</span><span class="id identifier rubyid_pc">pc</span><span class="rparen">)</span> <span class="kw">if</span> <span class="id identifier rubyid_pc">pc</span>

  <span class="comment"># verify that we can compile and link against the library
</span>  <span class="id identifier rubyid_local_have_library"><span class="object_link"><a href="#local_have_library-instance_method" title="#local_have_library (method)">local_have_library</a></span></span><span class="lparen">(</span><span class="id identifier rubyid_lib">lib</span><span class="comma">,</span> <span class="id identifier rubyid_func">func</span><span class="comma">,</span> <span class="id identifier rubyid_headers">headers</span><span class="rparen">)</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="iconv_configure_flags-instance_method">
  
    #<strong>iconv_configure_flags</strong>  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/extconf.rb', line 306</span>

<span class="kw">def</span> <span class="id identifier rubyid_iconv_configure_flags">iconv_configure_flags</span>
  <span class="comment"># give --with-iconv-dir and --with-opt-dir first priority
</span>  <span class="lbracket">[</span><span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">iconv</span><span class="tstring_end">"</span></span><span class="comma">,</span> <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">opt</span><span class="tstring_end">"</span></span><span class="rbracket">]</span><span class="period">.</span><span class="id identifier rubyid_each">each</span> <span class="kw">do</span> <span class="op">|</span><span class="id identifier rubyid_target">target</span><span class="op">|</span>
    <span class="id identifier rubyid_config">config</span> <span class="op">=</span> <span class="id identifier rubyid_preserving_globals"><span class="object_link"><a href="#preserving_globals-instance_method" title="#preserving_globals (method)">preserving_globals</a></span></span> <span class="lbrace">{</span> <span class="id identifier rubyid_dir_config">dir_config</span><span class="lparen">(</span><span class="id identifier rubyid_target">target</span><span class="rparen">)</span> <span class="rbrace">}</span>
    <span class="kw">if</span> <span class="id identifier rubyid_config">config</span><span class="period">.</span><span class="id identifier rubyid_any?">any?</span> <span class="op">&amp;&amp;</span> <span class="id identifier rubyid_try_link_iconv"><span class="object_link"><a href="#try_link_iconv-instance_method" title="#try_link_iconv (method)">try_link_iconv</a></span></span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">--with-</span><span class="embexpr_beg">#{</span><span class="id identifier rubyid_target">target</span><span class="embexpr_end">}</span><span class="tstring_content">-* flags</span><span class="tstring_end">"</span></span><span class="rparen">)</span> <span class="lbrace">{</span> <span class="id identifier rubyid_dir_config">dir_config</span><span class="lparen">(</span><span class="id identifier rubyid_target">target</span><span class="rparen">)</span> <span class="rbrace">}</span>
      <span class="id identifier rubyid_idirs">idirs</span><span class="comma">,</span> <span class="id identifier rubyid_ldirs">ldirs</span> <span class="op">=</span> <span class="id identifier rubyid_config">config</span><span class="period">.</span><span class="id identifier rubyid_map">map</span> <span class="kw">do</span> <span class="op">|</span><span class="id identifier rubyid_dirs">dirs</span><span class="op">|</span>
        <span class="const">Array</span><span class="lparen">(</span><span class="id identifier rubyid_dirs">dirs</span><span class="rparen">)</span><span class="period">.</span><span class="id identifier rubyid_flat_map">flat_map</span> <span class="kw">do</span> <span class="op">|</span><span class="id identifier rubyid_dir">dir</span><span class="op">|</span>
          <span class="id identifier rubyid_dir">dir</span><span class="period">.</span><span class="id identifier rubyid_split">split</span><span class="lparen">(</span><span class="const">File</span><span class="op">::</span><span class="const">PATH_SEPARATOR</span><span class="rparen">)</span>
        <span class="kw">end</span> <span class="kw">if</span> <span class="id identifier rubyid_dirs">dirs</span>
      <span class="kw">end</span>

      <span class="kw">return</span> <span class="lbracket">[</span>
        <span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">--with-iconv=yes</span><span class="tstring_end">'</span></span><span class="comma">,</span>
        <span class="op">*</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">CPPFLAGS=</span><span class="embexpr_beg">#{</span><span class="id identifier rubyid_idirs">idirs</span><span class="period">.</span><span class="id identifier rubyid_map">map</span> <span class="lbrace">{</span> <span class="op">|</span><span class="id identifier rubyid_dir">dir</span><span class="op">|</span> <span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">-I</span><span class="tstring_end">'</span></span> <span class="op">+</span> <span class="id identifier rubyid_dir">dir</span> <span class="rbrace">}</span><span class="period">.</span><span class="id identifier rubyid_join">join</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content"> </span><span class="tstring_end">'</span></span><span class="rparen">)</span><span class="embexpr_end">}</span><span class="tstring_end">"</span></span> <span class="kw">if</span> <span class="id identifier rubyid_idirs">idirs</span><span class="rparen">)</span><span class="comma">,</span>
        <span class="op">*</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">LDFLAGS=</span><span class="embexpr_beg">#{</span><span class="id identifier rubyid_ldirs">ldirs</span><span class="period">.</span><span class="id identifier rubyid_map">map</span> <span class="lbrace">{</span> <span class="op">|</span><span class="id identifier rubyid_dir">dir</span><span class="op">|</span> <span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">-L</span><span class="tstring_end">'</span></span> <span class="op">+</span> <span class="id identifier rubyid_dir">dir</span> <span class="rbrace">}</span><span class="period">.</span><span class="id identifier rubyid_join">join</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content"> </span><span class="tstring_end">'</span></span><span class="rparen">)</span><span class="embexpr_end">}</span><span class="tstring_end">"</span></span> <span class="kw">if</span> <span class="id identifier rubyid_ldirs">ldirs</span><span class="rparen">)</span><span class="comma">,</span>
      <span class="rbracket">]</span>
    <span class="kw">end</span>
  <span class="kw">end</span>

  <span class="kw">if</span> <span class="id identifier rubyid_try_link_iconv"><span class="object_link"><a href="#try_link_iconv-instance_method" title="#try_link_iconv (method)">try_link_iconv</a></span></span>
    <span class="kw">return</span> <span class="lbracket">[</span><span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">--with-iconv=yes</span><span class="tstring_end">'</span></span><span class="rbracket">]</span>
  <span class="kw">end</span>

  <span class="id identifier rubyid_config">config</span> <span class="op">=</span> <span class="id identifier rubyid_preserving_globals"><span class="object_link"><a href="#preserving_globals-instance_method" title="#preserving_globals (method)">preserving_globals</a></span></span> <span class="lbrace">{</span> <span class="id identifier rubyid_have_package_configuration"><span class="object_link"><a href="#have_package_configuration-instance_method" title="#have_package_configuration (method)">have_package_configuration</a></span></span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">libiconv</span><span class="tstring_end">'</span></span><span class="rparen">)</span> <span class="rbrace">}</span>
  <span class="kw">if</span> <span class="id identifier rubyid_config">config</span> <span class="op">&amp;&amp;</span> <span class="id identifier rubyid_try_link_iconv"><span class="object_link"><a href="#try_link_iconv-instance_method" title="#try_link_iconv (method)">try_link_iconv</a></span></span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">pkg-config libiconv</span><span class="tstring_end">'</span></span><span class="rparen">)</span> <span class="lbrace">{</span> <span class="id identifier rubyid_have_package_configuration"><span class="object_link"><a href="#have_package_configuration-instance_method" title="#have_package_configuration (method)">have_package_configuration</a></span></span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">libiconv</span><span class="tstring_end">'</span></span><span class="rparen">)</span> <span class="rbrace">}</span>
    <span class="id identifier rubyid_cflags">cflags</span><span class="comma">,</span> <span class="id identifier rubyid_ldflags">ldflags</span><span class="comma">,</span> <span class="id identifier rubyid_libs">libs</span> <span class="op">=</span> <span class="id identifier rubyid_config">config</span>

    <span class="kw">return</span> <span class="lbracket">[</span>
      <span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">--with-iconv=yes</span><span class="tstring_end">'</span></span><span class="comma">,</span>
      <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">CPPFLAGS=</span><span class="embexpr_beg">#{</span><span class="id identifier rubyid_cflags">cflags</span><span class="embexpr_end">}</span><span class="tstring_end">"</span></span><span class="comma">,</span>
      <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">LDFLAGS=</span><span class="embexpr_beg">#{</span><span class="id identifier rubyid_ldflags">ldflags</span><span class="embexpr_end">}</span><span class="tstring_end">"</span></span><span class="comma">,</span>
      <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">LIBS=</span><span class="embexpr_beg">#{</span><span class="id identifier rubyid_libs">libs</span><span class="embexpr_end">}</span><span class="tstring_end">"</span></span><span class="comma">,</span>
    <span class="rbracket">]</span>
  <span class="kw">end</span>

  <span class="id identifier rubyid_abort_could_not_find_library"><span class="object_link"><a href="#abort_could_not_find_library-instance_method" title="#abort_could_not_find_library (method)">abort_could_not_find_library</a></span></span> <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">libiconv</span><span class="tstring_end">"</span></span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="libflag_to_filename-instance_method">
  
    #<strong>libflag_to_filename</strong>(ldflag)  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


255
256
257
258
259
260</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/extconf.rb', line 255</span>

<span class="kw">def</span> <span class="id identifier rubyid_libflag_to_filename">libflag_to_filename</span><span class="lparen">(</span><span class="id identifier rubyid_ldflag">ldflag</span><span class="rparen">)</span>
  <span class="kw">case</span> <span class="id identifier rubyid_ldflag">ldflag</span>
  <span class="kw">when</span> <span class="tstring"><span class="regexp_beg">/</span><span class="tstring_content">\A-l(.+)</span><span class="regexp_end">/</span></span>
    <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">lib</span><span class="embexpr_beg">#{</span><span class="backref">$1</span><span class="embexpr_end">}</span><span class="tstring_content">.</span><span class="embexpr_beg">#{</span><span class="gvar">$LIBEXT</span><span class="embexpr_end">}</span><span class="tstring_end">"</span></span>
  <span class="kw">end</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="local_have_library-instance_method">
  
    #<strong>local_have_library</strong>(lib, func = nil, headers = nil)  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


142
143
144</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/extconf.rb', line 142</span>

<span class="kw">def</span> <span class="id identifier rubyid_local_have_library">local_have_library</span><span class="lparen">(</span><span class="id identifier rubyid_lib">lib</span><span class="comma">,</span> <span class="id identifier rubyid_func">func</span><span class="op">=</span><span class="kw">nil</span><span class="comma">,</span> <span class="id identifier rubyid_headers">headers</span><span class="op">=</span><span class="kw">nil</span><span class="rparen">)</span>
  <span class="id identifier rubyid_have_library">have_library</span><span class="lparen">(</span><span class="id identifier rubyid_lib">lib</span><span class="comma">,</span> <span class="id identifier rubyid_func">func</span><span class="comma">,</span> <span class="id identifier rubyid_headers">headers</span><span class="rparen">)</span> <span class="kw">or</span> <span class="id identifier rubyid_have_library">have_library</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">lib</span><span class="embexpr_beg">#{</span><span class="id identifier rubyid_lib">lib</span><span class="embexpr_end">}</span><span class="tstring_end">"</span></span><span class="comma">,</span> <span class="id identifier rubyid_func">func</span><span class="comma">,</span> <span class="id identifier rubyid_headers">headers</span><span class="rparen">)</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="nix?-instance_method">
  
    #<strong>nix?</strong>  ⇒ <tt>Boolean</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class="type">(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


134
135
136</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/extconf.rb', line 134</span>

<span class="kw">def</span> <span class="id identifier rubyid_nix?">nix?</span>
  <span class="op">!</span> <span class="lparen">(</span><span class="id identifier rubyid_windows?"><span class="object_link"><a href="#windows%3F-instance_method" title="#windows? (method)">windows?</a></span></span> <span class="op">||</span> <span class="id identifier rubyid_solaris?"><span class="object_link"><a href="#solaris%3F-instance_method" title="#solaris? (method)">solaris?</a></span></span> <span class="op">||</span> <span class="id identifier rubyid_darwin?"><span class="object_link"><a href="#darwin%3F-instance_method" title="#darwin? (method)">darwin?</a></span></span><span class="rparen">)</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="Nokogiri-instance_method">
  
    #<strong>Nokogiri</strong>(*args, &amp;block)  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Parse a document contained in <code>args</code>.  Nokogiri will try to guess what type of document you are attempting to parse.  For more information, see Nokogiri.parse</p>

<p>To specify the type of document, use Nokogiri.XML or Nokogiri.HTML.</p>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


138
139
140
141
142
143
144</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri.rb', line 138</span>

<span class="kw">def</span> <span class="const"><span class="object_link"><a href="Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span></span><span class="lparen">(</span><span class="op">*</span><span class="id identifier rubyid_args">args</span><span class="comma">,</span> <span class="op">&amp;</span><span class="id identifier rubyid_block">block</span><span class="rparen">)</span>
  <span class="kw">if</span> <span class="id identifier rubyid_block_given?">block_given?</span>
    <span class="const"><span class="object_link"><a href="Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span></span><span class="op">::</span><span class="const"><span class="object_link"><a href="Nokogiri/HTML.html" title="Nokogiri::HTML (module)">HTML</a></span></span><span class="op">::</span><span class="const"><span class="object_link"><a href="Nokogiri/HTML/Builder.html" title="Nokogiri::HTML::Builder (class)">Builder</a></span></span><span class="period">.</span><span class="id identifier rubyid_new"><span class="object_link"><a href="Nokogiri/XML/Builder.html#initialize-instance_method" title="Nokogiri::XML::Builder#initialize (method)">new</a></span></span><span class="lparen">(</span><span class="op">&amp;</span><span class="id identifier rubyid_block">block</span><span class="rparen">)</span><span class="period">.</span><span class="id identifier rubyid_doc"><span class="object_link"><a href="Nokogiri/XML/Builder.html#doc-instance_method" title="Nokogiri::XML::Builder#doc (method)">doc</a></span></span><span class="period">.</span><span class="id identifier rubyid_root">root</span>
  <span class="kw">else</span>
    <span class="const"><span class="object_link"><a href="Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span></span><span class="period">.</span><span class="id identifier rubyid_parse"><span class="object_link"><a href="Nokogiri.html#parse-class_method" title="Nokogiri.parse (method)">parse</a></span></span><span class="lparen">(</span><span class="op">*</span><span class="id identifier rubyid_args">args</span><span class="rparen">)</span>
  <span class="kw">end</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="openbsd?-instance_method">
  
    #<strong>openbsd?</strong>  ⇒ <tt>Boolean</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class="type">(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


126
127
128</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/extconf.rb', line 126</span>

<span class="kw">def</span> <span class="id identifier rubyid_openbsd?">openbsd?</span>
  <span class="const">RbConfig</span><span class="op">::</span><span class="const">CONFIG</span><span class="lbracket">[</span><span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">target_os</span><span class="tstring_end">'</span></span><span class="rbracket">]</span> <span class="op">=~</span> <span class="tstring"><span class="regexp_beg">/</span><span class="tstring_content">openbsd</span><span class="regexp_end">/</span></span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="preserving_globals-instance_method">
  
    #<strong>preserving_globals</strong>  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


212
213
214
215
216
217</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/extconf.rb', line 212</span>

<span class="kw">def</span> <span class="id identifier rubyid_preserving_globals">preserving_globals</span>
  <span class="id identifier rubyid_values">values</span> <span class="op">=</span> <span class="lbracket">[</span><span class="gvar">$arg_config</span><span class="comma">,</span> <span class="gvar">$INCFLAGS</span><span class="comma">,</span> <span class="gvar">$CFLAGS</span><span class="comma">,</span> <span class="gvar">$CPPFLAGS</span><span class="comma">,</span> <span class="gvar">$LDFLAGS</span><span class="comma">,</span> <span class="gvar">$DLDFLAGS</span><span class="comma">,</span> <span class="gvar">$LIBPATH</span><span class="comma">,</span> <span class="gvar">$libs</span><span class="rbracket">]</span><span class="period">.</span><span class="id identifier rubyid_map">map</span><span class="lparen">(</span><span class="op">&amp;</span><span class="symbol">:dup</span><span class="rparen">)</span>
  <span class="kw">yield</span>
<span class="kw">ensure</span>
  <span class="gvar">$arg_config</span><span class="comma">,</span> <span class="gvar">$INCFLAGS</span><span class="comma">,</span> <span class="gvar">$CFLAGS</span><span class="comma">,</span> <span class="gvar">$CPPFLAGS</span><span class="comma">,</span> <span class="gvar">$LDFLAGS</span><span class="comma">,</span> <span class="gvar">$DLDFLAGS</span><span class="comma">,</span> <span class="gvar">$LIBPATH</span><span class="comma">,</span> <span class="gvar">$libs</span> <span class="op">=</span> <span class="id identifier rubyid_values">values</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="process_recipe-instance_method">
  
    #<strong>process_recipe</strong>(name, version, static_p, cross_p)  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/extconf.rb', line 344</span>

<span class="kw">def</span> <span class="id identifier rubyid_process_recipe">process_recipe</span><span class="lparen">(</span><span class="id identifier rubyid_name">name</span><span class="comma">,</span> <span class="id identifier rubyid_version">version</span><span class="comma">,</span> <span class="id identifier rubyid_static_p">static_p</span><span class="comma">,</span> <span class="id identifier rubyid_cross_p">cross_p</span><span class="rparen">)</span>
  <span class="id identifier rubyid_require">require</span> <span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">rubygems</span><span class="tstring_end">'</span></span>
  <span class="id identifier rubyid_gem">gem</span> <span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">mini_portile2</span><span class="tstring_end">'</span></span><span class="comma">,</span> <span class="const"><span class="object_link"><a href="#REQUIRED_MINI_PORTILE_VERSION-constant" title="REQUIRED_MINI_PORTILE_VERSION (constant)">REQUIRED_MINI_PORTILE_VERSION</a></span></span>
  <span class="id identifier rubyid_require">require</span> <span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">mini_portile2</span><span class="tstring_end">'</span></span>
  <span class="id identifier rubyid_message">message</span> <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">Using mini_portile version </span><span class="embexpr_beg">#{</span><span class="const">MiniPortile</span><span class="op">::</span><span class="const">VERSION</span><span class="embexpr_end">}</span><span class="tstring_content">\n</span><span class="tstring_end">"</span></span>

  <span class="kw">if</span> <span class="id identifier rubyid_name">name</span> <span class="op">!=</span> <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">libxml2</span><span class="tstring_end">"</span></span> <span class="op">&amp;&amp;</span> <span class="id identifier rubyid_name">name</span> <span class="op">!=</span> <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">libxslt</span><span class="tstring_end">"</span></span>
    <span class="const"><span class="object_link"><a href="#OTHER_LIBRARY_VERSIONS-constant" title="OTHER_LIBRARY_VERSIONS (constant)">OTHER_LIBRARY_VERSIONS</a></span></span><span class="lbracket">[</span><span class="id identifier rubyid_name">name</span><span class="rbracket">]</span> <span class="op">=</span> <span class="id identifier rubyid_version">version</span>
  <span class="kw">end</span>

  <span class="const">MiniPortile</span><span class="period">.</span><span class="id identifier rubyid_new">new</span><span class="lparen">(</span><span class="id identifier rubyid_name">name</span><span class="comma">,</span> <span class="id identifier rubyid_version">version</span><span class="rparen">)</span><span class="period">.</span><span class="id identifier rubyid_tap">tap</span> <span class="kw">do</span> <span class="op">|</span><span class="id identifier rubyid_recipe">recipe</span><span class="op">|</span>
    <span class="id identifier rubyid_recipe">recipe</span><span class="period">.</span><span class="id identifier rubyid_target">target</span> <span class="op">=</span> <span class="const">File</span><span class="period">.</span><span class="id identifier rubyid_join">join</span><span class="lparen">(</span><span class="const"><span class="object_link"><a href="#PACKAGE_ROOT_DIR-constant" title="PACKAGE_ROOT_DIR (constant)">PACKAGE_ROOT_DIR</a></span></span><span class="comma">,</span> <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">ports</span><span class="tstring_end">"</span></span><span class="rparen">)</span>
    <span class="comment"># Prefer host_alias over host in order to use i586-mingw32msvc as
</span>    <span class="comment"># correct compiler prefix for cross build, but use host if not set.
</span>    <span class="id identifier rubyid_recipe">recipe</span><span class="period">.</span><span class="id identifier rubyid_host">host</span> <span class="op">=</span> <span class="const">RbConfig</span><span class="op">::</span><span class="const">CONFIG</span><span class="lbracket">[</span><span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">host_alias</span><span class="tstring_end">"</span></span><span class="rbracket">]</span><span class="period">.</span><span class="id identifier rubyid_empty?">empty?</span> <span class="op">?</span> <span class="const">RbConfig</span><span class="op">::</span><span class="const">CONFIG</span><span class="lbracket">[</span><span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">host</span><span class="tstring_end">"</span></span><span class="rbracket">]</span> <span class="op">:</span> <span class="const">RbConfig</span><span class="op">::</span><span class="const">CONFIG</span><span class="lbracket">[</span><span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">host_alias</span><span class="tstring_end">"</span></span><span class="rbracket">]</span>
    <span class="id identifier rubyid_recipe">recipe</span><span class="period">.</span><span class="id identifier rubyid_patch_files">patch_files</span> <span class="op">=</span> <span class="const">Dir</span><span class="lbracket">[</span><span class="const">File</span><span class="period">.</span><span class="id identifier rubyid_join">join</span><span class="lparen">(</span><span class="const"><span class="object_link"><a href="#PACKAGE_ROOT_DIR-constant" title="PACKAGE_ROOT_DIR (constant)">PACKAGE_ROOT_DIR</a></span></span><span class="comma">,</span> <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">patches</span><span class="tstring_end">"</span></span><span class="comma">,</span> <span class="id identifier rubyid_name">name</span><span class="comma">,</span> <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">*.patch</span><span class="tstring_end">"</span></span><span class="rparen">)</span><span class="rbracket">]</span><span class="period">.</span><span class="id identifier rubyid_sort">sort</span>
    <span class="id identifier rubyid_recipe">recipe</span><span class="period">.</span><span class="id identifier rubyid_configure_options">configure_options</span> <span class="op">&lt;&lt;</span> <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">--libdir=</span><span class="embexpr_beg">#{</span><span class="const">File</span><span class="period">.</span><span class="id identifier rubyid_join">join</span><span class="lparen">(</span><span class="id identifier rubyid_recipe">recipe</span><span class="period">.</span><span class="id identifier rubyid_path">path</span><span class="comma">,</span> <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">lib</span><span class="tstring_end">"</span></span><span class="rparen">)</span><span class="embexpr_end">}</span><span class="tstring_end">"</span></span>

    <span class="kw">yield</span> <span class="id identifier rubyid_recipe">recipe</span>

    <span class="id identifier rubyid_env">env</span> <span class="op">=</span> <span class="const">Hash</span><span class="period">.</span><span class="id identifier rubyid_new">new</span> <span class="kw">do</span> <span class="op">|</span><span class="id identifier rubyid_hash">hash</span><span class="comma">,</span> <span class="id identifier rubyid_key">key</span><span class="op">|</span>
      <span class="id identifier rubyid_hash">hash</span><span class="lbracket">[</span><span class="id identifier rubyid_key">key</span><span class="rbracket">]</span> <span class="op">=</span> <span class="tstring"><span class="tstring_beg">"</span><span class="embexpr_beg">#{</span><span class="const">ENV</span><span class="lbracket">[</span><span class="id identifier rubyid_key">key</span><span class="rbracket">]</span><span class="embexpr_end">}</span><span class="tstring_end">"</span></span>  <span class="comment"># (ENV[key].dup rescue '')
</span>    <span class="kw">end</span>

    <span class="id identifier rubyid_recipe">recipe</span><span class="period">.</span><span class="id identifier rubyid_configure_options">configure_options</span><span class="period">.</span><span class="id identifier rubyid_flatten!">flatten!</span>

    <span class="id identifier rubyid_recipe">recipe</span><span class="period">.</span><span class="id identifier rubyid_configure_options">configure_options</span><span class="period">.</span><span class="id identifier rubyid_delete_if">delete_if</span> <span class="kw">do</span> <span class="op">|</span><span class="id identifier rubyid_option">option</span><span class="op">|</span>
      <span class="kw">case</span> <span class="id identifier rubyid_option">option</span>
      <span class="kw">when</span> <span class="tstring"><span class="regexp_beg">/</span><span class="tstring_content">\A(\w+)=(.*)\z</span><span class="regexp_end">/</span></span>
        <span class="kw">if</span> <span class="id identifier rubyid_env">env</span><span class="period">.</span><span class="id identifier rubyid_key?">key?</span><span class="lparen">(</span><span class="backref">$1</span><span class="rparen">)</span>
          <span class="id identifier rubyid_env">env</span><span class="lbracket">[</span><span class="backref">$1</span><span class="rbracket">]</span> <span class="op">=</span> <span class="id identifier rubyid_concat_flags"><span class="object_link"><a href="#concat_flags-instance_method" title="#concat_flags (method)">concat_flags</a></span></span><span class="lparen">(</span><span class="id identifier rubyid_env">env</span><span class="lbracket">[</span><span class="backref">$1</span><span class="rbracket">]</span><span class="comma">,</span> <span class="backref">$2</span><span class="rparen">)</span>
        <span class="kw">else</span>
          <span class="id identifier rubyid_env">env</span><span class="lbracket">[</span><span class="backref">$1</span><span class="rbracket">]</span> <span class="op">=</span> <span class="backref">$2</span>
        <span class="kw">end</span>
        <span class="kw">true</span>
      <span class="kw">else</span>
        <span class="kw">false</span>
      <span class="kw">end</span>
    <span class="kw">end</span>

    <span class="kw">if</span> <span class="id identifier rubyid_static_p">static_p</span>
      <span class="id identifier rubyid_recipe">recipe</span><span class="period">.</span><span class="id identifier rubyid_configure_options">configure_options</span> <span class="op">+=</span> <span class="lbracket">[</span>
        <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">--disable-shared</span><span class="tstring_end">"</span></span><span class="comma">,</span>
        <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">--enable-static</span><span class="tstring_end">"</span></span><span class="comma">,</span>
      <span class="rbracket">]</span>
      <span class="id identifier rubyid_env">env</span><span class="lbracket">[</span><span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">CFLAGS</span><span class="tstring_end">"</span></span><span class="rbracket">]</span> <span class="op">=</span> <span class="id identifier rubyid_concat_flags"><span class="object_link"><a href="#concat_flags-instance_method" title="#concat_flags (method)">concat_flags</a></span></span><span class="lparen">(</span><span class="id identifier rubyid_env">env</span><span class="lbracket">[</span><span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">CFLAGS</span><span class="tstring_end">"</span></span><span class="rbracket">]</span><span class="comma">,</span> <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">-fPIC</span><span class="tstring_end">"</span></span><span class="rparen">)</span>
    <span class="kw">else</span>
      <span class="id identifier rubyid_recipe">recipe</span><span class="period">.</span><span class="id identifier rubyid_configure_options">configure_options</span> <span class="op">+=</span> <span class="lbracket">[</span>
        <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">--enable-shared</span><span class="tstring_end">"</span></span><span class="comma">,</span>
        <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">--disable-static</span><span class="tstring_end">"</span></span><span class="comma">,</span>
      <span class="rbracket">]</span>
    <span class="kw">end</span>

    <span class="kw">if</span> <span class="id identifier rubyid_cross_p">cross_p</span>
      <span class="id identifier rubyid_recipe">recipe</span><span class="period">.</span><span class="id identifier rubyid_configure_options">configure_options</span> <span class="op">+=</span> <span class="lbracket">[</span>
        <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">--target=</span><span class="embexpr_beg">#{</span><span class="id identifier rubyid_recipe">recipe</span><span class="period">.</span><span class="id identifier rubyid_host">host</span><span class="embexpr_end">}</span><span class="tstring_end">"</span></span><span class="comma">,</span>
        <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">--host=</span><span class="embexpr_beg">#{</span><span class="id identifier rubyid_recipe">recipe</span><span class="period">.</span><span class="id identifier rubyid_host">host</span><span class="embexpr_end">}</span><span class="tstring_end">"</span></span><span class="comma">,</span>
      <span class="rbracket">]</span>
    <span class="kw">end</span>

    <span class="kw">if</span> <span class="const">RbConfig</span><span class="op">::</span><span class="const">CONFIG</span><span class="lbracket">[</span><span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">target_cpu</span><span class="tstring_end">'</span></span><span class="rbracket">]</span> <span class="op">==</span> <span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">universal</span><span class="tstring_end">'</span></span>
      <span class="qwords_beg">%w[</span><span class="tstring_content">CFLAGS</span><span class="words_sep"> </span><span class="tstring_content">LDFLAGS</span><span class="tstring_end">]</span><span class="period">.</span><span class="id identifier rubyid_each">each</span> <span class="kw">do</span> <span class="op">|</span><span class="id identifier rubyid_key">key</span><span class="op">|</span>
        <span class="kw">unless</span> <span class="id identifier rubyid_env">env</span><span class="lbracket">[</span><span class="id identifier rubyid_key">key</span><span class="rbracket">]</span><span class="period">.</span><span class="id identifier rubyid_include?">include?</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">-arch</span><span class="tstring_end">'</span></span><span class="rparen">)</span>
          <span class="id identifier rubyid_env">env</span><span class="lbracket">[</span><span class="id identifier rubyid_key">key</span><span class="rbracket">]</span> <span class="op">=</span> <span class="id identifier rubyid_concat_flags"><span class="object_link"><a href="#concat_flags-instance_method" title="#concat_flags (method)">concat_flags</a></span></span><span class="lparen">(</span><span class="id identifier rubyid_env">env</span><span class="lbracket">[</span><span class="id identifier rubyid_key">key</span><span class="rbracket">]</span><span class="comma">,</span> <span class="const">RbConfig</span><span class="op">::</span><span class="const">CONFIG</span><span class="lbracket">[</span><span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">ARCH_FLAG</span><span class="tstring_end">'</span></span><span class="rbracket">]</span><span class="rparen">)</span>
        <span class="kw">end</span>
      <span class="kw">end</span>
    <span class="kw">end</span>

    <span class="id identifier rubyid_recipe">recipe</span><span class="period">.</span><span class="id identifier rubyid_configure_options">configure_options</span> <span class="op">+=</span> <span class="id identifier rubyid_env">env</span><span class="period">.</span><span class="id identifier rubyid_map">map</span> <span class="kw">do</span> <span class="op">|</span><span class="id identifier rubyid_key">key</span><span class="comma">,</span> <span class="id identifier rubyid_value">value</span><span class="op">|</span>
      <span class="tstring"><span class="tstring_beg">"</span><span class="embexpr_beg">#{</span><span class="id identifier rubyid_key">key</span><span class="embexpr_end">}</span><span class="tstring_content">=</span><span class="embexpr_beg">#{</span><span class="id identifier rubyid_value">value</span><span class="period">.</span><span class="id identifier rubyid_strip">strip</span><span class="embexpr_end">}</span><span class="tstring_end">"</span></span>
    <span class="kw">end</span>

    <span class="id identifier rubyid_checkpoint">checkpoint</span> <span class="op">=</span> <span class="tstring"><span class="tstring_beg">"</span><span class="embexpr_beg">#{</span><span class="id identifier rubyid_recipe">recipe</span><span class="period">.</span><span class="id identifier rubyid_target">target</span><span class="embexpr_end">}</span><span class="tstring_content">/</span><span class="embexpr_beg">#{</span><span class="id identifier rubyid_recipe">recipe</span><span class="period">.</span><span class="id identifier rubyid_name">name</span><span class="embexpr_end">}</span><span class="tstring_content">-</span><span class="embexpr_beg">#{</span><span class="id identifier rubyid_recipe">recipe</span><span class="period">.</span><span class="id identifier rubyid_version">version</span><span class="embexpr_end">}</span><span class="tstring_content">-</span><span class="embexpr_beg">#{</span><span class="id identifier rubyid_recipe">recipe</span><span class="period">.</span><span class="id identifier rubyid_host">host</span><span class="embexpr_end">}</span><span class="tstring_content">.installed</span><span class="tstring_end">"</span></span>
    <span class="kw">if</span> <span class="const">File</span><span class="period">.</span><span class="id identifier rubyid_exist?">exist?</span><span class="lparen">(</span><span class="id identifier rubyid_checkpoint">checkpoint</span><span class="rparen">)</span>
      <span class="id identifier rubyid_message">message</span> <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">Building Nokogiri with a packaged version of </span><span class="embexpr_beg">#{</span><span class="id identifier rubyid_name">name</span><span class="embexpr_end">}</span><span class="tstring_content">-</span><span class="embexpr_beg">#{</span><span class="id identifier rubyid_version">version</span><span class="embexpr_end">}</span><span class="tstring_content">.\n</span><span class="tstring_end">"</span></span>
    <span class="kw">else</span>
      <span class="id identifier rubyid_message">message</span> <span class="heredoc_beg">&lt;&lt;~EOM</span>
<span class="tstring_content">        ---------- IMPORTANT NOTICE ----------
</span><span class="tstring_content">        Building Nokogiri with a packaged version of </span><span class="embexpr_beg">#{</span><span class="id identifier rubyid_name">name</span><span class="embexpr_end">}</span><span class="tstring_content">-</span><span class="embexpr_beg">#{</span><span class="id identifier rubyid_version">version</span><span class="embexpr_end">}</span><span class="tstring_content">.
</span><span class="tstring_content">        Configuration options: </span><span class="embexpr_beg">#{</span><span class="id identifier rubyid_recipe">recipe</span><span class="period">.</span><span class="id identifier rubyid_configure_options">configure_options</span><span class="period">.</span><span class="id identifier rubyid_shelljoin">shelljoin</span><span class="embexpr_end">}</span><span class="tstring_content">
</span><span class="heredoc_end">      EOM
</span>
      <span class="kw">unless</span> <span class="id identifier rubyid_recipe">recipe</span><span class="period">.</span><span class="id identifier rubyid_patch_files">patch_files</span><span class="period">.</span><span class="id identifier rubyid_empty?">empty?</span>
        <span class="id identifier rubyid_message">message</span> <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">The following patches are being applied:\n</span><span class="tstring_end">"</span></span>

        <span class="id identifier rubyid_recipe">recipe</span><span class="period">.</span><span class="id identifier rubyid_patch_files">patch_files</span><span class="period">.</span><span class="id identifier rubyid_each">each</span> <span class="kw">do</span> <span class="op">|</span><span class="id identifier rubyid_patch">patch</span><span class="op">|</span>
          <span class="id identifier rubyid_message">message</span> <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">  - %s\n</span><span class="tstring_end">"</span></span> <span class="op">%</span> <span class="const">File</span><span class="period">.</span><span class="id identifier rubyid_basename">basename</span><span class="lparen">(</span><span class="id identifier rubyid_patch">patch</span><span class="rparen">)</span>
        <span class="kw">end</span>
      <span class="kw">end</span>

      <span class="id identifier rubyid_message">message</span> <span class="heredoc_beg">&lt;&lt;~EOM</span>
<span class="tstring_content">
</span><span class="tstring_content">        The Nokogiri maintainers intend to provide timely security updates, but if
</span><span class="tstring_content">        this is a concern for you and want to use your OS/distro system library
</span><span class="tstring_content">        instead, then abort this installation process and install nokogiri as
</span><span class="tstring_content">        instructed at:
</span><span class="tstring_content">
</span><span class="tstring_content">          https://nokogiri.org/tutorials/installing_nokogiri.html#install-with-system-libraries
</span><span class="tstring_content">
</span><span class="heredoc_end">      EOM
</span>
      <span class="id identifier rubyid_message">message</span> <span class="heredoc_beg">&lt;&lt;~EOM</span> <span class="kw">if</span> <span class="id identifier rubyid_name">name</span> <span class="op">==</span> <span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">libxml2</span><span class="tstring_end">'</span></span>
<span class="tstring_content">        Note, however, that nokogiri cannot guarantee compatiblity with every
</span><span class="tstring_content">        version of libxml2 that may be provided by OS/package vendors.
</span><span class="tstring_content">
</span><span class="heredoc_end">      EOM
</span>
      <span class="id identifier rubyid_chdir_for_build"><span class="object_link"><a href="#chdir_for_build-instance_method" title="#chdir_for_build (method)">chdir_for_build</a></span></span> <span class="kw">do</span>
        <span class="id identifier rubyid_recipe">recipe</span><span class="period">.</span><span class="id identifier rubyid_cook">cook</span>
      <span class="kw">end</span>
      <span class="const">FileUtils</span><span class="period">.</span><span class="id identifier rubyid_touch">touch</span> <span class="id identifier rubyid_checkpoint">checkpoint</span>
    <span class="kw">end</span>
    <span class="id identifier rubyid_recipe">recipe</span><span class="period">.</span><span class="id identifier rubyid_activate">activate</span>
  <span class="kw">end</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="sh_export_path-instance_method">
  
    #<strong>sh_export_path</strong>(path)  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/extconf.rb', line 233</span>

<span class="kw">def</span> <span class="id identifier rubyid_sh_export_path">sh_export_path</span> <span class="id identifier rubyid_path">path</span>
  <span class="comment"># because libxslt 1.1.29 configure.in uses AC_PATH_TOOL which treats ":"
</span>  <span class="comment"># as a $PATH separator, we need to convert windows paths from
</span>  <span class="comment">#
</span>  <span class="comment">#   C:/path/to/foo
</span>  <span class="comment">#
</span>  <span class="comment"># to
</span>  <span class="comment">#
</span>  <span class="comment">#   /C/path/to/foo
</span>  <span class="comment">#
</span>  <span class="comment"># which is sh-compatible, in order to find things properly during
</span>  <span class="comment"># configuration
</span>  <span class="kw">return</span> <span class="id identifier rubyid_path">path</span> <span class="kw">if</span> <span class="op">!</span><span class="id identifier rubyid_windows?"><span class="object_link"><a href="#windows%3F-instance_method" title="#windows? (method)">windows?</a></span></span>

  <span class="id identifier rubyid_match">match</span> <span class="op">=</span> <span class="const">Regexp</span><span class="period">.</span><span class="id identifier rubyid_new">new</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">^([A-Z]):(/.*)</span><span class="tstring_end">"</span></span><span class="rparen">)</span><span class="period">.</span><span class="id identifier rubyid_match">match</span><span class="lparen">(</span><span class="id identifier rubyid_path">path</span><span class="rparen">)</span>
  <span class="kw">if</span> <span class="id identifier rubyid_match">match</span> <span class="op">&amp;&amp;</span> <span class="id identifier rubyid_match">match</span><span class="period">.</span><span class="id identifier rubyid_length">length</span> <span class="op">==</span> <span class="int">3</span>
    <span class="kw">return</span> <span class="const">File</span><span class="period">.</span><span class="id identifier rubyid_join">join</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">/</span><span class="tstring_end">"</span></span><span class="comma">,</span> <span class="id identifier rubyid_match">match</span><span class="lbracket">[</span><span class="int">1</span><span class="rbracket">]</span><span class="comma">,</span> <span class="id identifier rubyid_match">match</span><span class="lbracket">[</span><span class="int">2</span><span class="rbracket">]</span><span class="rparen">)</span>
  <span class="kw">end</span>

  <span class="id identifier rubyid_path">path</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="solaris?-instance_method">
  
    #<strong>solaris?</strong>  ⇒ <tt>Boolean</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class="type">(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


118
119
120</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/extconf.rb', line 118</span>

<span class="kw">def</span> <span class="id identifier rubyid_solaris?">solaris?</span>
  <span class="const">RbConfig</span><span class="op">::</span><span class="const">CONFIG</span><span class="lbracket">[</span><span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">target_os</span><span class="tstring_end">'</span></span><span class="rbracket">]</span> <span class="op">=~</span> <span class="tstring"><span class="regexp_beg">/</span><span class="tstring_content">solaris</span><span class="regexp_end">/</span></span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="try_link_iconv-instance_method">
  
    #<strong>try_link_iconv</strong>(using = nil)  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/extconf.rb', line 285</span>

<span class="kw">def</span> <span class="id identifier rubyid_try_link_iconv">try_link_iconv</span><span class="lparen">(</span><span class="id identifier rubyid_using">using</span> <span class="op">=</span> <span class="kw">nil</span><span class="rparen">)</span>
  <span class="id identifier rubyid_checking_for">checking_for</span><span class="lparen">(</span><span class="id identifier rubyid_using">using</span> <span class="op">?</span> <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">iconv using </span><span class="embexpr_beg">#{</span><span class="id identifier rubyid_using">using</span><span class="embexpr_end">}</span><span class="tstring_end">"</span></span> <span class="op">:</span> <span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">iconv</span><span class="tstring_end">'</span></span><span class="rparen">)</span> <span class="kw">do</span>
    <span class="lbracket">[</span><span class="tstring"><span class="tstring_beg">'</span><span class="tstring_end">'</span></span><span class="comma">,</span> <span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">-liconv</span><span class="tstring_end">'</span></span><span class="rbracket">]</span><span class="period">.</span><span class="id identifier rubyid_any?">any?</span> <span class="kw">do</span> <span class="op">|</span><span class="id identifier rubyid_opt">opt</span><span class="op">|</span>
      <span class="id identifier rubyid_preserving_globals"><span class="object_link"><a href="#preserving_globals-instance_method" title="#preserving_globals (method)">preserving_globals</a></span></span> <span class="kw">do</span>
        <span class="kw">yield</span> <span class="kw">if</span> <span class="id identifier rubyid_block_given?">block_given?</span>

        <span class="id identifier rubyid_try_link">try_link</span><span class="lparen">(</span><span class="heredoc_beg">&lt;&lt;~'SRC'</span><span class="comma">,</span> <span class="id identifier rubyid_opt">opt</span><span class="rparen">)</span>
<span class="tstring_content">          #include &lt;stdlib.h&gt;
</span><span class="tstring_content">          #include &lt;iconv.h&gt;
</span><span class="tstring_content">          int main(void)
</span><span class="tstring_content">          {
</span><span class="tstring_content">              iconv_t cd = iconv_open("", "");
</span><span class="tstring_content">              iconv(cd, NULL, NULL, NULL, NULL);
</span><span class="tstring_content">              return EXIT_SUCCESS;
</span><span class="tstring_content">          }
</span><span class="heredoc_end">        SRC
</span>      <span class="kw">end</span>
    <span class="kw">end</span>
  <span class="kw">end</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="try_package_configuration-instance_method">
  
    #<strong>try_package_configuration</strong>(pc)  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>wrapper around MakeMakefil#pkg_config and the PKGConfig gem</p>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/extconf.rb', line 152</span>

<span class="kw">def</span> <span class="id identifier rubyid_try_package_configuration">try_package_configuration</span><span class="lparen">(</span><span class="id identifier rubyid_pc">pc</span><span class="rparen">)</span>
  <span class="kw">if</span> <span class="op">!</span><span class="const">ENV</span><span class="period">.</span><span class="id identifier rubyid_key?">key?</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">NOKOGIRI_TEST_PKG_CONFIG_GEM</span><span class="tstring_end">"</span></span><span class="rparen">)</span>
    <span class="comment"># try MakeMakefile#pkg_config, which uses the system utility `pkg-config`.
</span>    <span class="kw">return</span> <span class="kw">if</span> <span class="id identifier rubyid_checking_for">checking_for</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">"</span><span class="embexpr_beg">#{</span><span class="id identifier rubyid_pc">pc</span><span class="embexpr_end">}</span><span class="tstring_content"> using `pkg_config`</span><span class="tstring_end">"</span></span><span class="comma">,</span> <span class="const"><span class="object_link"><a href="#LOCAL_PACKAGE_RESPONSE-constant" title="LOCAL_PACKAGE_RESPONSE (constant)">LOCAL_PACKAGE_RESPONSE</a></span></span><span class="rparen">)</span> <span class="kw">do</span>
      <span class="id identifier rubyid_pkg_config">pkg_config</span><span class="lparen">(</span><span class="id identifier rubyid_pc">pc</span><span class="rparen">)</span>
    <span class="kw">end</span>
  <span class="kw">end</span>

  <span class="comment"># `pkg-config` probably isn't installed, which appears to be the case for lots of freebsd systems.
</span>  <span class="comment"># let's fall back to the pkg-config gem, which knows how to parse .pc files, and wrap it with the
</span>  <span class="comment"># same logic as MakeMakefile#pkg_config
</span>  <span class="kw">begin</span>
    <span class="id identifier rubyid_require">require</span> <span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">rubygems</span><span class="tstring_end">'</span></span>
    <span class="id identifier rubyid_gem">gem</span> <span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">pkg-config</span><span class="tstring_end">'</span></span><span class="comma">,</span> <span class="const"><span class="object_link"><a href="#REQUIRED_PKG_CONFIG_VERSION-constant" title="REQUIRED_PKG_CONFIG_VERSION (constant)">REQUIRED_PKG_CONFIG_VERSION</a></span></span>
    <span class="id identifier rubyid_require">require</span> <span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">pkg-config</span><span class="tstring_end">'</span></span>

    <span class="id identifier rubyid_checking_for">checking_for</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">"</span><span class="embexpr_beg">#{</span><span class="id identifier rubyid_pc">pc</span><span class="embexpr_end">}</span><span class="tstring_content"> using pkg-config gem version </span><span class="embexpr_beg">#{</span><span class="const">PKGConfig</span><span class="op">::</span><span class="const">VERSION</span><span class="embexpr_end">}</span><span class="tstring_end">"</span></span><span class="comma">,</span> <span class="const"><span class="object_link"><a href="#LOCAL_PACKAGE_RESPONSE-constant" title="LOCAL_PACKAGE_RESPONSE (constant)">LOCAL_PACKAGE_RESPONSE</a></span></span><span class="rparen">)</span> <span class="kw">do</span>
      <span class="kw">if</span> <span class="const">PKGConfig</span><span class="period">.</span><span class="id identifier rubyid_have_package">have_package</span><span class="lparen">(</span><span class="id identifier rubyid_pc">pc</span><span class="rparen">)</span>
        <span class="id identifier rubyid_cflags">cflags</span>  <span class="op">=</span> <span class="const">PKGConfig</span><span class="period">.</span><span class="id identifier rubyid_cflags">cflags</span><span class="lparen">(</span><span class="id identifier rubyid_pc">pc</span><span class="rparen">)</span>
        <span class="id identifier rubyid_ldflags">ldflags</span> <span class="op">=</span> <span class="const">PKGConfig</span><span class="period">.</span><span class="id identifier rubyid_libs_only_L">libs_only_L</span><span class="lparen">(</span><span class="id identifier rubyid_pc">pc</span><span class="rparen">)</span>
        <span class="id identifier rubyid_libs">libs</span>    <span class="op">=</span> <span class="const">PKGConfig</span><span class="period">.</span><span class="id identifier rubyid_libs_only_l">libs_only_l</span><span class="lparen">(</span><span class="id identifier rubyid_pc">pc</span><span class="rparen">)</span>

        <span class="const">Logging</span><span class="op">::</span><span class="id identifier rubyid_message">message</span> <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">pkg-config gem found package configuration for %s\n</span><span class="tstring_end">"</span></span><span class="comma">,</span> <span class="id identifier rubyid_pc">pc</span>
        <span class="const">Logging</span><span class="op">::</span><span class="id identifier rubyid_message">message</span> <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">cflags: %s\nldflags: %s\nlibs: %s\n\n</span><span class="tstring_end">"</span></span><span class="comma">,</span> <span class="id identifier rubyid_cflags">cflags</span><span class="comma">,</span> <span class="id identifier rubyid_ldflags">ldflags</span><span class="comma">,</span> <span class="id identifier rubyid_libs">libs</span>

        <span class="lbracket">[</span><span class="id identifier rubyid_cflags">cflags</span><span class="comma">,</span> <span class="id identifier rubyid_ldflags">ldflags</span><span class="comma">,</span> <span class="id identifier rubyid_libs">libs</span><span class="rbracket">]</span>
      <span class="kw">end</span>
    <span class="kw">end</span>
  <span class="kw">rescue</span> <span class="const">LoadError</span>
    <span class="id identifier rubyid_message">message</span> <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">Please install either the `pkg-config` utility or the `pkg-config` rubygem.\n</span><span class="tstring_end">"</span></span>
  <span class="kw">end</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="using_system_libraries?-instance_method">
  
    #<strong>using_system_libraries?</strong>  ⇒ <tt>Boolean</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class="type">(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


262
263
264
265</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/extconf.rb', line 262</span>

<span class="kw">def</span> <span class="id identifier rubyid_using_system_libraries?">using_system_libraries?</span>
  <span class="comment"># NOTE: TruffleRuby uses this env var as it does not support using static libraries yet.
</span>  <span class="id identifier rubyid_arg_config">arg_config</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">--use-system-libraries</span><span class="tstring_end">'</span></span><span class="comma">,</span> <span class="const">ENV</span><span class="period">.</span><span class="id identifier rubyid_key?">key?</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">NOKOGIRI_USE_SYSTEM_LIBRARIES</span><span class="tstring_end">"</span></span><span class="rparen">)</span><span class="rparen">)</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="windows?-instance_method">
  
    #<strong>windows?</strong>  ⇒ <tt>Boolean</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>utility functions</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class="type">(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


114
115
116</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/extconf.rb', line 114</span>

<span class="kw">def</span> <span class="id identifier rubyid_windows?">windows?</span>
  <span class="const">RbConfig</span><span class="op">::</span><span class="const">CONFIG</span><span class="lbracket">[</span><span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">target_os</span><span class="tstring_end">'</span></span><span class="rbracket">]</span> <span class="op">=~</span> <span class="tstring"><span class="regexp_beg">/</span><span class="tstring_content">mingw32|mswin</span><span class="regexp_end">/</span></span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Sun Jan  3 22:58:32 2021 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.26 (ruby-2.7.2).
</div>

    </div>
  </body>
</html>
